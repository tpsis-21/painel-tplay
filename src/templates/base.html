<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Baixar {{app_name}} - Guia de InstalaÃ§Ã£o Oficial</title>
    <meta name="description" content="Baixe o {{app_name}} com um clique. Guia oficial de instalaÃ§Ã£o para Android TV, Fire Stick e TV Box. Use os cÃ³digos {{android_code}} ou {{firestick_code}} no app Downloader.">
    <link rel="icon" href="/favicon.ico">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{app_url}}">
    <meta property="og:title" content="Baixar {{app_name}} - Guia de InstalaÃ§Ã£o Oficial">
    <meta property="og:description" content="Instale o {{app_name}} facilmente. Tutoriais para Android TV, Fire Stick e TV Box. CÃ³digos oficiais e download direto.">
    <meta property="og:image" content="{{app_logo}}">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="{{app_url}}">
    <meta name="twitter:title" content="Baixar {{app_name}} - Guia de InstalaÃ§Ã£o Oficial">
    <meta name="twitter:description" content="Instale o {{app_name}} facilmente. Tutoriais para Android TV, Fire Stick e TV Box. CÃ³digos oficiais e download direto.">
    <meta name="twitter:image" content="{{app_logo}}">

    <link rel="canonical" href="{{app_url}}">

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "{{app_name}}",
      "operatingSystem": "Android, FireOS",
      "applicationCategory": "MultimediaApplication",
      "downloadUrl": "{{download_url}}",
      "image": "{{app_logo}}",
      "offers": {
        "@type": "Offer",
        "price": "0.00",
        "priceCurrency": "BRL"
      }
    }
    </script>

    <link rel="stylesheet" href="./base.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <button class="theme-toggle" id="theme-toggle" aria-label="Alternar Tema">
        <i class="fas fa-moon dark:hidden"></i>
        <i class="fas fa-sun hidden dark:block text-yellow-400"></i>
    </button>

    <div class="container">
        <!-- CabeÃ§alho Principal -->
        <header class="hero-section">
            <div class="logo-wrapper" style="display: inline-block; padding: 10px; background: rgba(255,255,255,0.1); backdrop-filter: blur(10px); border-radius: 32px; margin-bottom: 20px;">
                <img class="logo" src="{{app_logo}}" alt="Logo {{app_name}}" loading="lazy" decoding="async">
            </div>
            <h1>Download {{app_name}}</h1>
            <p class="hero-description">VersÃ£o oficial otimizada para alto desempenho e estabilidade.</p>
            
            <!-- BotÃ£o Principal Centralizado -->
            <div class="download-section">
                <a id="download-link" class="download-link" href="{{download_url}}" target="_blank" rel="noopener noreferrer">
                    <i class="fas fa-download"></i> Baixar Agora
                </a>
                <p class="download-note">CompatÃ­vel com Android TV, Fire Stick e Mobile</p>
            </div>
        </header>
        
        <!-- Seletor de Dispositivo -->
        <div class="device-selector">
            <h2>ðŸ“± Selecione seu dispositivo:</h2>
            <div class="device-buttons">
                <button class="device-button" data-target="android-section">ðŸ“± Celular Android</button>
                <button class="device-button" data-target="androidtv-section">ðŸ“º Android TV / Mi Stick</button>
                <button class="device-button" data-target="firestick-section">ðŸ”¥ Fire Stick</button>
                <button class="device-button" data-target="tvbox-section">ðŸ“¦ TV Box / Receptores</button>
            </div>
        </div>
        
        <!-- SeÃ§Ã£o Android Mobile -->
        <section id="android-section" class="section-card device-section">
            <h2>ðŸ“± Celular Android</h2>
            <p>Para instalar em seu celular Android, baixe o arquivo diretamente:</p>
            
            <div class="code-block">
                <div class="code-highlight">
                    Baixar {{app_name}}
                    <span class="copy-icon" onclick="copiarTexto('{{download_url}}')">ðŸ“‹</span>
                </div>
            </div>
            
            <div class="instructions">
                <p><strong>Como instalar:</strong></p>
                <ol class="simple-steps">
                    <li>Baixe o arquivo APK</li>
                    <li>Abra o arquivo baixado</li>
                    <li>Permita instalaÃ§Ã£o de "Fontes desconhecidas" se solicitado</li>
                    <li>Toque em "Instalar"</li>
                </ol>
            </div>
            
        </section>
        
        <!-- SeÃ§Ã£o Android TV -->
        <section id="androidtv-section" class="section-card device-section">
            <h2>ðŸ“º Android TV / Mi Stick</h2>
            <p>Para instalar em sua TV, use o aplicativo <strong>DOWNLOADER</strong> com o cÃ³digo abaixo:</p>
            
            <div class="code-block">
                <div class="code-highlight">
                    {{android_code}}
                    <span class="copy-icon" onclick="copiarTexto('{{android_code}}')">ðŸ“‹</span>
                </div>
            </div>
            
            <div class="instructions">
                <p><strong>Como usar:</strong></p>
                <ol class="simple-steps">
                    <li>Abra o app <strong>DOWNLOADER</strong> na sua TV</li>
                    <li>Digite o cÃ³digo <strong>{{android_code}}</strong></li>
                    <li>Clique em <strong>GO</strong> para iniciar</li>
                </ol>
            </div>
        </section>

        <!-- SeÃ§Ã£o Fire Stick -->
        <section id="firestick-section" class="section-card device-section">
            <h2>ðŸ”¥ Fire Stick</h2>
            <p>Para instalar no Fire Stick, use o cÃ³digo abaixo no app <strong>DOWNLOADER</strong>:</p>
            
            <div class="code-block">
                <div class="code-highlight">
                    {{firestick_code}}
                    <span class="copy-icon" onclick="copiarTexto('{{firestick_code}}')">ðŸ“‹</span>
                </div>
            </div>
            
            <div class="instructions">
                <p><strong>Como usar:</strong></p>
                <ol class="simple-steps">
                    <li>Abra o app <strong>DOWNLOADER</strong> no Fire Stick</li>
                    <li>Digite o cÃ³digo <strong>{{firestick_code}}</strong></li>
                    <li>Clique em <strong>GO</strong> para iniciar</li>
                </ol>
            </div>
        </section>

        <!-- SeÃ§Ã£o TV Box -->
        <section id="tvbox-section" class="section-card device-section">
            <h2>ðŸ“¦ TV Box / Receptores</h2>
            <p>Para instalar em sua TV Box, use o cÃ³digo abaixo no app <strong>DOWNLOADER</strong>:</p>
            
            <div class="code-block">
                <div class="code-highlight">
                    {{tvbox_code}}
                    <span class="copy-icon" onclick="copiarTexto('{{tvbox_code}}')">ðŸ“‹</span>
                </div>
            </div>
            
            <div class="instructions">
                <p><strong>Como usar:</strong></p>
                <ol class="simple-steps">
                    <li>Abra o app <strong>DOWNLOADER</strong> na sua TV Box</li>
                    <li>Digite o cÃ³digo <strong>{{tvbox_code}}</strong></li>
                    <li>Clique em <strong>GO</strong> para iniciar</li>
                </ol>
            </div>
        </section>
        
        <!-- Carrossel de imagens (Gerado Automaticamente) -->
        <div id="interface-placeholder" class="section-card" style="display: none;"></div>

        <div id="video-tutorials-section" class="section-card tutorial-section" style="display: none;">
            <h2 style="text-align: center; margin-top: 0; margin-bottom: 20px;">ðŸŽ¬ VÃ­deo Tutoriais</h2>
            <div id="video-grid-placeholder"></div>
        </div>

        <div id="links-tutorials-section" class="section-card tutorial-section" style="display: none;">
            <h2 style="text-align: center; margin-top: 0; margin-bottom: 20px;">ðŸ“– Tutoriais de Uso</h2>
            <div class="tutorial-buttons" id="links-grid-placeholder">
                <!-- BotÃµes de tutorial serÃ£o inseridos aqui -->
            </div>
        </div>
    </div>

    <script>
        // Tema Claro/Escuro
        const themeToggle = document.getElementById('theme-toggle');
        const html = document.documentElement;

        themeToggle.addEventListener('click', () => {
            html.classList.toggle('dark');
            const isDark = html.classList.contains('dark');
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
        });

        // Carregar tema salvo ou preferÃªncia do sistema
        const savedTheme = localStorage.getItem('theme');
        const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (savedTheme === 'dark' || (!savedTheme && systemPrefersDark)) {
            html.classList.add('dark');
        } else {
            html.classList.remove('dark');
        }

        // FunÃ§Ãµes utilitÃ¡rias para copiar texto
        function copiarTexto(texto) {
            if (navigator.clipboard && window.isSecureContext) {
                navigator.clipboard.writeText(texto).then(() => {
                    mostrarNotificacao('âœ… Copiado com sucesso!');
                }).catch(() => {
                    fallbackCopiar(texto);
                });
            } else {
                fallbackCopiar(texto);
            }
        }

        function fallbackCopiar(texto) {
            const input = document.createElement('textarea');
            input.value = texto;
            input.setAttribute('readonly', '');
            input.style.position = 'absolute';
            input.style.left = '-9999px';
            document.body.appendChild(input);
            input.select();
            try {
                document.execCommand('copy');
                mostrarNotificacao('âœ… Copiado com sucesso!');
            } catch (err) {
                mostrarNotificacao('âŒ NÃ£o foi possÃ­vel copiar. Copie manualmente.');
            }
            document.body.removeChild(input);
        }

        function mostrarNotificacao(mensagem) {
            const notification = document.createElement('div');
            notification.className = 'notification';
            notification.textContent = mensagem;
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                background: var(--primary-gradient);
                color: white;
                padding: 14px 24px;
                border-radius: 50px;
                font-weight: 700;
                box-shadow: var(--shadow-lg);
                z-index: 10000;
                animation: slideInRight 0.3s ease-out;
            `;
            
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideOutRight 0.3s ease-in';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 2500);
        }

        function iniciarDownloadAutomatico(url) {
            try {
                const iframe = document.createElement('iframe');
                iframe.style.display = 'none';
                iframe.src = url;
                document.body.appendChild(iframe);
                
                mostrarNotificacao('ðŸš€ Download iniciado!');
                
                setTimeout(() => {
                    if (iframe && iframe.parentNode) {
                        iframe.parentNode.removeChild(iframe);
                    }
                }, 30000);
            } catch (e) {
                window.location.href = url;
            }
        }

        function navegarParaSecao(targetId, button) {
            // Esconder todas as seÃ§Ãµes
            const sections = document.querySelectorAll('.device-section');
            sections.forEach(section => section.style.display = 'none');
            
            // Remover classe ativa de todos os botÃµes
            const buttons = document.querySelectorAll('.device-button');
            buttons.forEach(btn => btn.classList.remove('active'));
            
            // Mostrar seÃ§Ã£o alvo
            const targetSection = document.getElementById(targetId);
            if (targetSection) {
                targetSection.style.display = 'block';
                button.classList.add('active');
                
                // Scroll suave se nÃ£o for o carregamento inicial
                if (window.scrollY > 100) {
                    targetSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
                }
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            const btnDownload = document.getElementById('download-link');
            const deviceButtons = document.querySelectorAll('.device-button');

            if (btnDownload) {
                btnDownload.addEventListener('click', function(e) {
                    e.preventDefault();
                    iniciarDownloadAutomatico('{{download_url}}');
                });
            }

            deviceButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const target = this.getAttribute('data-target');
                    navegarParaSecao(target, this);
                });
            });

            // InicializaÃ§Ã£o: Esconder tudo e mostrar Android por padrÃ£o
            const sections = document.querySelectorAll('.device-section');
            sections.forEach(section => section.style.display = 'none');
            
            const defaultBtn = document.querySelector('[data-target="android-section"]');
            if (defaultBtn) {
                navegarParaSecao('android-section', defaultBtn);
            }
        });

        // AnimaÃ§Ãµes
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideInRight {
                from { transform: translateX(100%); opacity: 0; }
                to { transform: translateX(0); opacity: 1; }
            }
            @keyframes slideOutRight {
                from { transform: translateX(0); opacity: 1; }
                to { transform: translateX(100%); opacity: 0; }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
