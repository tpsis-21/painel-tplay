<!DOCTYPE html>
<html lang="pt-BR" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{page_title}}</title>
    <meta name="description" content="{{meta_description}}">
    <link rel="icon" href="/favicon.ico">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{app_url}}">
    <meta property="og:title" content="{{page_title}}">
    <meta property="og:description" content="{{meta_description}}">
    <meta property="og:image" content="{{app_logo}}">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="{{app_url}}">
    <meta name="twitter:title" content="{{page_title}}">
    <meta name="twitter:description" content="{{meta_description}}">
    <meta name="twitter:image" content="{{app_logo}}">

    <link rel="canonical" href="{{app_url}}">

    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "{{app_name}}",
      "operatingSystem": "Android, FireOS",
      "applicationCategory": "MultimediaApplication",
      "downloadUrl": "{{download_url}}",
      "image": "{{app_logo}}",
      "offers": {
        "@type": "Offer",
        "price": "0.00",
        "priceCurrency": "BRL"
      }
    }
    </script>

    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <script>
        tailwind.config = {
            darkMode: 'class',
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'system-ui', 'sans-serif'],
                    },
                    colors: {
                        border: 'hsl(var(--border))',
                        input: 'hsl(var(--input))',
                        ring: 'hsl(var(--ring))',
                        background: 'hsl(var(--background))',
                        foreground: 'hsl(var(--foreground))',
                        primary: {
                            DEFAULT: 'hsl(var(--primary))',
                            foreground: 'hsl(var(--primary-foreground))',
                        },
                        secondary: {
                            DEFAULT: 'hsl(var(--secondary))',
                            foreground: 'hsl(var(--secondary-foreground))',
                        },
                        destructive: {
                            DEFAULT: 'hsl(var(--destructive))',
                            foreground: 'hsl(var(--destructive-foreground))',
                        },
                        muted: {
                            DEFAULT: 'hsl(var(--muted))',
                            foreground: 'hsl(var(--muted-foreground))',
                        },
                        accent: {
                            DEFAULT: 'hsl(var(--accent))',
                            foreground: 'hsl(var(--accent-foreground))',
                        },
                        popover: {
                            DEFAULT: 'hsl(var(--popover))',
                            foreground: 'hsl(var(--popover-foreground))',
                        },
                        card: {
                            DEFAULT: 'hsl(var(--card))',
                            foreground: 'hsl(var(--card-foreground))',
                        },
                    },
                    borderRadius: {
                        lg: 'var(--radius)',
                        md: 'calc(var(--radius) - 2px)',
                        sm: 'calc(var(--radius) - 4px)',
                    },
                    keyframes: {
                        'accordion-down': {
                            from: { height: 0 },
                            to: { height: 'var(--radix-accordion-content-height)' },
                        },
                        'accordion-up': {
                            from: { height: 'var(--radix-accordion-content-height)' },
                            to: { height: 0 },
                        },
                    },
                    animation: {
                        'accordion-down': 'accordion-down 0.2s ease-out',
                        'accordion-up': 'accordion-up 0.2s ease-out',
                    },
                },
            },
        }
    </script>
    
    <style>
        :root {
            --background: 0 0% 100%;
            --foreground: 222.2 84% 4.9%;
            --card: 0 0% 100%;
            --card-foreground: 222.2 84% 4.9%;
            --popover: 0 0% 100%;
            --popover-foreground: 222.2 84% 4.9%;
            --primary: 221.2 83.2% 53.3%;
            --primary-foreground: 210 40% 98%;
            --secondary: 210 40% 96%;
            --secondary-foreground: 222.2 84% 4.9%;
            --muted: 210 40% 96%;
            --muted-foreground: 215.4 16.3% 46.9%;
            --accent: 210 40% 96%;
            --accent-foreground: 222.2 84% 4.9%;
            --destructive: 0 84.2% 60.2%;
            --destructive-foreground: 210 40% 98%;
            --border: 214.3 31.8% 91.4%;
            --input: 214.3 31.8% 91.4%;
            --ring: 221.2 83.2% 53.3%;
            --radius: 0.75rem;
        }

        .dark {
            --background: 222.2 84% 4.9%;
            --foreground: 210 40% 98%;
            --card: 222.2 84% 4.9%;
            --card-foreground: 210 40% 98%;
            --popover: 222.2 84% 4.9%;
            --popover-foreground: 210 40% 98%;
            --primary: 217.2 91.2% 59.8%;
            --primary-foreground: 222.2 84% 4.9%;
            --secondary: 217.2 32.6% 17.5%;
            --secondary-foreground: 210 40% 98%;
            --muted: 217.2 32.6% 17.5%;
            --muted-foreground: 215 20.2% 65.1%;
            --accent: 217.2 32.6% 17.5%;
            --accent-foreground: 210 40% 98%;
            --destructive: 0 62.8% 30.6%;
            --destructive-foreground: 210 40% 98%;
            --border: 217.2 32.6% 17.5%;
            --input: 217.2 32.6% 17.5%;
            --ring: 224.3 76.3% 94.1%;
        }

        * {
            border-color: hsl(var(--border));
        }

        body {
            background-color: hsl(var(--background));
            color: hsl(var(--foreground));
            font-family: 'Inter', system-ui, sans-serif;
            line-height: 1.6;
        }

        .glass {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .dark .glass {
            background: rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
    </style>
</head>

<body class="min-h-screen bg-background text-foreground">
    <!-- Header da Loja -->
    <header class="store-header bg-gradient-to-br from-blue-600 via-purple-600 to-pink-600 text-white">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            <div class="text-center">
                <!-- Logo e Badge -->
                <div class="flex items-center justify-center mb-4">
                    <div class="glass rounded-2xl p-4 shadow-2xl">
                        <img class="w-24 h-24 object-contain" src="{{app_logo}}" alt="Logo {{app_name}}" 
                             loading="lazy" decoding="async">
                    </div>
                </div>

                <!-- T√≠tulo e Descri√ß√£o -->
                <h1 class="text-3xl md:text-4xl lg:text-5xl font-bold mb-3 tracking-tight">
                    {{app_name}}
                </h1>
                <p class="text-lg md:text-xl opacity-90 mb-4 max-w-2xl mx-auto">
                    {{app_description}}
                </p>

                <!-- Rating e Estat√≠sticas -->
                <div class="flex items-center justify-center space-x-6 text-sm md:text-base mb-4">
                    <div class="flex items-center space-x-2">
                        <div class="flex text-yellow-400">
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star"></i>
                            <i class="fas fa-star-half-alt"></i>
                        </div>
                        <span class="font-medium">4.8/5.0</span>
                    </div>
                    <div class="flex items-center space-x-2">
                        <i class="fas fa-shield-alt"></i>
                        <span class="font-medium">Verificado</span>
                    </div>
                </div>

                <!-- Bot√µes de A√ß√£o Principais -->
                <div class="flex flex-col sm:flex-row gap-4 justify-center items-center mb-4">
                    <button id="download-btn" class="inline-flex items-center justify-center rounded-full bg-white text-blue-600 hover:bg-gray-50 px-8 py-4 text-lg font-semibold shadow-lg hover:shadow-xl transition-all duration-300 transform hover:scale-105 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-2 focus-visible:ring-offset-blue-600">
                        <i class="fas fa-download mr-3"></i>
                        Baixar Agora
                    </button>
                    <button id="info-btn" class="inline-flex items-center justify-center rounded-full bg-transparent border-2 border-white text-white hover:bg-white/10 px-6 py-3 text-md font-medium transition-all duration-300 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-offset-2 focus-visible:ring-offset-blue-600">
                        <i class="fas fa-info-circle mr-2"></i>
                        Informa√ß√µes / Ajuda
                    </button>
                </div>
                <div id="download-loading" class="mt-2 text-white flex items-center justify-center hidden">
                    <i class="fas fa-spinner fa-spin mr-2"></i>
                    Preparando download...
                </div>

                <!-- Info de Compatibilidade -->
                <p class="text-sm opacity-80">
                    üì± Compat√≠vel com {{compat_text}}
                </p>
            </div>
        </div>
    </header>

    <!-- Navega√ß√£o simplificada removida para priorizar download -->

    <!-- Conte√∫do Principal -->
    <main class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
        <!-- Aba Informa√ß√µes -->
        <div id="tab-info" class="space-y-8">

        <!-- Seletor de Dispositivo -->
        <section class="bg-card border border-border rounded-xl p-6 md:p-8">
            <h2 class="text-2xl font-bold mb-6 text-card-foreground">üì± Selecione seu dispositivo:</h2>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                <button class="device-button bg-primary text-primary-foreground hover:bg-primary/90 px-4 py-3 rounded-lg font-medium transition-colors duration-200 flex items-center justify-center space-x-2" data-target="android-section">
                    <i class="fas fa-mobile-alt"></i>
                    <span>Celular Android</span>
                </button>
                <button class="device-button bg-muted text-muted-foreground hover:bg-muted/80 px-4 py-3 rounded-lg font-medium transition-colors duration-200 flex items-center justify-center space-x-2" data-target="androidtv-section">
                    <i class="fas fa-tv"></i>
                    <span>Android TV / Mi Stick</span>
                </button>
                <button class="device-button bg-muted text-muted-foreground hover:bg-muted/80 px-4 py-3 rounded-lg font-medium transition-colors duration-200 flex items-center justify-center space-x-2" data-target="firestick-section">
                    <i class="fab fa-amazon"></i>
                    <span>Fire Stick</span>
                </button>
                <button class="device-button bg-muted text-muted-foreground hover:bg-muted/80 px-4 py-3 rounded-lg font-medium transition-colors duration-200 flex items-center justify-center space-x-2" data-target="tvbox-section">
                    <i class="fas fa-cube"></i>
                    <span>TV Box / Receptores / Projetores</span>
                </button>
            </div>
        </section>

        <!-- Se√ß√£o Android Mobile -->
        <section id="android-section" class="device-section bg-card border border-border rounded-xl p-6 md:p-8 hidden">
            <h2 class="text-2xl font-bold mb-6 text-card-foreground">üì± Celular Android</h2>
            <p class="text-muted-foreground mb-6">
                Para instalar em seu celular Android, use o bot√£o abaixo para baixar o APK
                ou copie o link direto para enviar para outro dispositivo.
            </p>

            <div class="flex flex-wrap items-center gap-3 mb-6">
                <button
                    type="button"
                    class="inline-flex items-center justify-center rounded-full bg-primary text-primary-foreground hover:bg-primary/90 px-6 py-3 text-sm font-semibold shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background"
                    onclick="baixarApp(event, '{{download_url}}', '{{app_name}}')"
                >
                    <i class="fas fa-download mr-2"></i>
                    Baixar Agora
                </button>
                <button
                    type="button"
                    onclick="copiarTexto('{{download_url}}')"
                    class="inline-flex items-center justify-center rounded-full bg-muted text-card-foreground hover:bg-muted/80 px-4 py-2 text-xs font-medium border border-border focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background"
                >
                    <i class="fas fa-link mr-2"></i>
                    Copiar link direto
                </button>
            </div>
            
            <div class="space-y-4">
                <h3 class="font-semibold text-card-foreground">üìã Como instalar:</h3>
                <ol class="space-y-2 text-muted-foreground">
                    <li class="flex items-center"><span class="w-6 h-6 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-xs mr-3">1</span> Baixe o arquivo APK usando o bot√£o acima</li>
                    <li class="flex items-center"><span class="w-6 h-6 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-xs mr-3">2</span> Abra o arquivo baixado</li>
                    <li class="flex items-center"><span class="w-6 h-6 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-xs mr-3">3</span> Permita instala√ß√£o de "Fontes desconhecidas" se solicitado</li>
                    <li class="flex items-center"><span class="w-6 h-6 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-xs mr-3">4</span> Toque em "Instalar"</li>
                </ol>
            </div>
        </section>

        <!-- Se√ß√£o Android TV -->
        <section id="androidtv-section" class="device-section bg-card border border-border rounded-xl p-6 md:p-8 hidden">
            <h2 class="text-2xl font-bold mb-6 text-card-foreground">üì∫ Android TV / Mi Stick</h2>
            <p class="text-muted-foreground mb-6">Para instalar em sua TV, use o aplicativo <strong>DOWNLOADER</strong> com o c√≥digo abaixo:</p>
            
            <div class="bg-muted rounded-lg p-4 mb-6">
                <div class="flex items-center justify-between">
                    <span class="font-mono text-sm">{{firestick_code}}</span>
                    <button onclick="copiarTexto('{{firestick_code}}')" class="bg-primary text-primary-foreground px-3 py-1 rounded-md text-sm hover:bg-primary/90 transition-colors">
                        üìã Copiar
                    </button>
                </div>
            </div>
            
            <div class="space-y-4 mb-6">
                <h3 class="font-semibold text-card-foreground">üìã Como usar:</h3>
                <ol class="space-y-2 text-muted-foreground">
                    <li class="flex items-center">
                        <span class="w-6 h-6 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-xs mr-3">1</span>
                        <span class="ml-1">Abra o app <strong>DOWNLOADER</strong> na sua TV</span>
                    </li>
                    <li class="flex items-center">
                        <span class="w-6 h-6 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-xs mr-3">2</span>
                        <span class="ml-1">Digite o c√≥digo <strong>{{firestick_code}}</strong></span>
                    </li>
                    <li class="flex items-center">
                        <span class="w-6 h-6 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-xs mr-3">3</span>
                        <span class="ml-1">Clique em <strong>GO</strong> para iniciar</span>
                    </li>
                </ol>
            </div>
            
            <div class="tutorial-buttons">
                <a class="bg-primary text-primary-foreground px-4 py-2 rounded-md hover:bg-primary/90 transition-colors inline-flex items-center" href="https://meu.guru/tutorial-androidtv" target="_blank" rel="noopener noreferrer">
                    <i class="fas fa-play-circle mr-2"></i>V√≠deo tutorial
                </a>
            </div>
        </section>

        <!-- Se√ß√£o Fire Stick -->
        <section id="firestick-section" class="device-section bg-card border border-border rounded-xl p-6 md:p-8 hidden">
            <h2 class="text-2xl font-bold mb-6 text-card-foreground">üî• Fire Stick</h2>
            <p class="text-muted-foreground mb-6">Para Fire Stick, utilize o aplicativo <strong>DOWNLOADER</strong> com este c√≥digo:</p>
            
            <div class="bg-muted rounded-lg p-4 mb-6">
                <div class="flex items-center justify-between">
                    <span class="font-mono text-sm">{{firestick_code}}</span>
                    <button onclick="copiarTexto('{{firestick_code}}')" class="bg-primary text-primary-foreground px-3 py-1 rounded-md text-sm hover:bg-primary/90 transition-colors">
                        üìã Copiar
                    </button>
                </div>
            </div>
            
            <div class="space-y-4 mb-6">
                <h3 class="font-semibold text-card-foreground">üìã Como usar:</h3>
                <ol class="space-y-2 text-muted-foreground">
                    <li class="flex items-center">
                        <span class="w-6 h-6 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-xs mr-3">1</span>
                        <span class="ml-1">Abra o app <strong>DOWNLOADER</strong> no Fire Stick</span>
                    </li>
                    <li class="flex items-center">
                        <span class="w-6 h-6 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-xs mr-3">2</span>
                        <span class="ml-1">Digite o c√≥digo <strong>{{firestick_code}}</strong></span>
                    </li>
                    <li class="flex items-center">
                        <span class="w-6 h-6 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-xs mr-3">3</span>
                        <span class="ml-1">Clique em <strong>GO</strong> para iniciar o download</span>
                    </li>
                </ol>
            </div>
            
            <div class="tutorial-buttons">
                {{firestick_tutorial_button}}
            </div>
        </section>

        <!-- Se√ß√£o TV Box -->
        <section id="tvbox-section" class="device-section bg-card border border-border rounded-xl p-6 md:p-8 hidden">
            <h2 class="text-2xl font-bold mb-6 text-card-foreground">üì¶ TV Box / Receptores / Projetores</h2>
            <p class="text-muted-foreground mb-6">Para TV Box, utilize o aplicativo <strong>NTDown</strong> com este c√≥digo:</p>
            
            <div class="bg-muted rounded-lg p-4 mb-6">
                <div class="flex items-center justify-between">
                    <span class="font-mono text-sm">{{NtdownCode}}</span>
                    <button onclick="copiarTexto('{{NtdownCode}}')" class="bg-primary text-primary-foreground px-3 py-1 rounded-md text-sm hover:bg-primary/90 transition-colors">
                        üìã Copiar
                    </button>
                </div>
            </div>
            
            <div class="space-y-4 mb-6">
                <h3 class="font-semibold text-card-foreground">üìã Como usar via NTDown:</h3>
                <ol class="space-y-2 text-muted-foreground">
                    <li class="flex items-center">
                        <span class="w-6 h-6 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-xs mr-3">1</span>
                        <span class="ml-1">Abra o app <strong>NTDown</strong> no seu TV Box</span>
                    </li>
                    <li class="flex items-center">
                        <span class="w-6 h-6 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-xs mr-3">2</span>
                        <span class="ml-1">Digite o c√≥digo <strong>{{NtdownCode}}</strong></span>
                    </li>
                    <li class="flex items-center">
                        <span class="w-6 h-6 bg-primary text-primary-foreground rounded-full flex items-center justify-center text-xs mr-3">3</span>
                        <span class="ml-1">Aguarde o download e instala√ß√£o autom√°tica</span>
                    </li>
                </ol>
            </div>
            
            <div class="tutorial-buttons">
                {{ntdown_tutorial_button}}
            </div>

            <section class="mt-10 border-t border-border pt-6">
                <h3 class="text-xl font-bold mb-4 text-card-foreground">üåê Download via Navegador</h3>
                <p class="text-muted-foreground mb-4">Se preferir baixar diretamente pelo navegador do seu dispositivo:</p>
                <div class="space-y-4">
                    <div class="flex items-start gap-3">
                        <div class="w-7 h-7 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-bold">1</div>
                        <p class="text-sm text-card-foreground">Abra o navegador do seu aparelho (Chrome, Firefox, etc.).</p>
                    </div>
                    <div class="flex items-start gap-3">
                        <div class="w-7 h-7 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-bold">2</div>
                        <div class="flex-1 space-y-2">
                            <p class="text-sm text-card-foreground">Cole o link abaixo na barra de endere√ßo:</p>
                            <div class="bg-muted rounded-lg p-3 flex items-center justify-between gap-3">
                                <span class="font-mono text-xs break-all">{{browser_download_url}}</span>
                                <button onclick="copiarTexto('{{browser_download_url}}')" class="bg-primary text-primary-foreground px-3 py-1 rounded-md text-xs hover:bg-primary/90 transition-colors">
                                    üìã Copiar
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="flex items-start gap-3">
                        <div class="w-7 h-7 rounded-full bg-primary text-primary-foreground flex items-center justify-center text-xs font-bold">3</div>
                        <p class="text-sm text-card-foreground">Pressione Enter e aguarde o download iniciar. Depois √© s√≥ instalar o APK.</p>
                    </div>
                </div>

                <div class="tutorial-buttons mt-6">
                    {{browser_download_tutorial_button}}
                </div>
            </section>
        </section>
        
        

            <!-- Se√ß√µes informativas removidas para focar em download -->
        </div>

        <!-- Ajuda -->
        <div id="tab-help" class="tab-content">
            <section class="bg-card border border-border rounded-xl p-6 md:p-8">
                <h2 class="text-2xl font-bold mb-2 text-card-foreground">‚ÑπÔ∏è Informa√ß√µes / Ajuda</h2>
                <p class="text-muted-foreground">Tutoriais e screenshots para apoiar a instala√ß√£o e uso.</p>
            </section>
            <div class="grid md:grid-cols-2 gap-8">
                <!-- Screenshots -->
                <section class="bg-card border border-border rounded-xl p-6 md:p-8">
                    <h2 class="text-2xl font-bold mb-6 text-card-foreground">üì∏ Screenshots</h2>
                    <div id="interface-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
                </section>
                <!-- Tutoriais em v√≠deo -->
                <section class="bg-card border border-border rounded-xl p-6 md:p-8">
                    <h2 class="text-2xl font-bold mb-6 text-card-foreground">üé• V√≠deos Tutoriais</h2>
                    <div id="video-grid" class="space-y-4"></div>
                </section>
            </div>
            <!-- Guias em texto (se√ß√£o separada) -->
            <section id="text-guides-section" class="bg-card border border-border rounded-xl p-6 md:p-8 mt-8">
                <h2 class="text-2xl font-bold mb-6 text-card-foreground">üìö Guias em Texto</h2>
                <div id="links-grid" class="space-y-3"></div>
            </section>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-muted border-t border-border mt-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12">
            <div class="text-center">
                <p class="text-muted-foreground">
                    ¬© 2026 Loja TPlay
                </p>
            </div>
        </div>
    </footer>

    <!-- Toast Container -->
    <div id="toast-container" class="fixed top-4 right-4 z-50 space-y-2"></div>
    <div id="download-modal" class="fixed inset-0 z-[110] hidden items-center justify-center p-4 bg-black/60 backdrop-blur-sm" role="dialog" aria-modal="true" aria-labelledby="download-title">
        <div class="bg-card border border-border w-full max-w-lg rounded-xl shadow-2xl overflow-hidden">
            <div class="p-6">
                <div class="flex justify-between items-start mb-6">
                    <div>
                        <h3 id="download-title" class="text-2xl font-bold text-card-foreground">Baixando APK</h3>
                        <p id="download-subtitle" class="text-muted-foreground text-sm"></p>
                    </div>
                    <button id="download-close" class="w-10 h-10 rounded-full bg-muted text-muted-foreground flex items-center justify-center hover:bg-accent hover:text-accent-foreground transition-colors" aria-label="Fechar">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="space-y-4">
                    <div class="w-full h-3 bg-muted rounded-full overflow-hidden">
                        <div id="download-progress-fill" class="h-3 bg-primary rounded-full" style="width:0%"></div>
                    </div>
                    <div class="flex items-center justify-between">
                        <span id="download-progress-text" class="text-xs font-semibold text-muted-foreground">0%</span>
                        <span id="download-size-text" class="text-xs font-semibold text-muted-foreground"></span>
                    </div>
                    <div class="pt-4 border-t border-border flex justify-end">
                        <button id="download-cancel-btn" class="px-4 py-3 rounded-md font-semibold text-sm bg-muted text-muted-foreground border border-border">Cancelar</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="lightbox" class="fixed inset-0 z-[120] hidden items-center justify-center bg-black/80 p-4">
        <button type="button" id="lightbox-close" class="absolute top-4 right-4 w-10 h-10 rounded-full bg-muted text-muted-foreground flex items-center justify-center hover:bg-accent hover:text-accent-foreground transition-colors" aria-label="Fechar visualiza√ß√£o de imagem">
            <i class="fas fa-times"></i>
        </button>
        <button type="button" id="lightbox-prev" class="absolute left-4 md:left-8 w-10 h-10 rounded-full bg-muted/80 text-muted-foreground flex items-center justify-center hover:bg-accent hover:text-accent-foreground transition-colors" aria-label="Imagem anterior">
            <i class="fas fa-chevron-left"></i>
        </button>
        <button type="button" id="lightbox-next" class="absolute right-4 md:right-8 w-10 h-10 rounded-full bg-muted/80 text-muted-foreground flex items-center justify-center hover:bg-accent hover:text-accent-foreground transition-colors" aria-label="Pr√≥xima imagem">
            <i class="fas fa-chevron-right"></i>
        </button>
        <img id="lightbox-img" src="" alt="Pr√©-visualiza√ß√£o da imagem do aplicativo" class="max-w-full max-h-full rounded-lg shadow-2xl object-contain">
    </div>

    <script>
        // Fun√ß√£o para mostrar toasts
        function showToast(message, type = 'success', duration = 3000) {
            const toastContainer = document.getElementById('toast-container');
            const toast = document.createElement('div');
            const bgColor = type === 'success' ? 'bg-green-500' : type === 'error' ? 'bg-red-500' : 'bg-blue-500';
            const icon = type === 'success' ? '‚úì' : type === 'error' ? '‚úó' : '‚Ñπ';
            
            toast.className = `${bgColor} text-white px-4 py-3 rounded-lg shadow-lg flex items-center space-x-2 transform transition-all duration-300 ease-in-out translate-x-full`;
            toast.innerHTML = `<span class="text-lg font-bold">${icon}</span><span class="text-sm font-medium">${message}</span>`;
            
            toastContainer.appendChild(toast);
            
            // Anima√ß√£o de entrada
            setTimeout(() => {
                toast.style.transform = 'translateX(0)';
            }, 100);
            
            // Anima√ß√£o de sa√≠da
            setTimeout(() => {
                toast.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    toast.remove();
                }, 300);
            }, duration);
        }

        let interfaceImagesList = [];
        let currentImageIndex = -1;
        let lightboxTouchStartX = null;

        function initInterfaceImagesList() {
            const container = document.getElementById('interface-grid');
            if (!container) return;
            const imgs = container.querySelectorAll('img');
            interfaceImagesList = Array.from(imgs).map(img => img.getAttribute('src'));
        }

        function mostrarImagemAtual() {
            const l = document.getElementById('lightbox');
            const img = document.getElementById('lightbox-img');
            if (!l || !img || currentImageIndex < 0 || currentImageIndex >= interfaceImagesList.length) return;
            img.src = interfaceImagesList[currentImageIndex];
        }

        function abrirLightbox(src) {
            const l = document.getElementById('lightbox');
            if (!l) return;
            if (!interfaceImagesList || interfaceImagesList.length === 0) {
                initInterfaceImagesList();
            }
            if (src) {
                const idx = interfaceImagesList.indexOf(src);
                currentImageIndex = idx !== -1 ? idx : 0;
            } else if (currentImageIndex === -1 && interfaceImagesList.length > 0) {
                currentImageIndex = 0;
            }
            mostrarImagemAtual();
            l.classList.remove('hidden');
            l.classList.add('flex');
            document.body.style.overflow = 'hidden';
        }

        function fecharLightbox() {
            const l = document.getElementById('lightbox');
            if (!l) return;
            l.classList.add('hidden');
            l.classList.remove('flex');
            document.body.style.overflow = '';
        }

        function lightboxImagemAnterior() {
            if (!interfaceImagesList || interfaceImagesList.length === 0) return;
            if (currentImageIndex <= 0) {
                currentImageIndex = interfaceImagesList.length - 1;
            } else {
                currentImageIndex -= 1;
            }
            mostrarImagemAtual();
        }

        function lightboxProximaImagem() {
            if (!interfaceImagesList || interfaceImagesList.length === 0) return;
            if (currentImageIndex >= interfaceImagesList.length - 1) {
                currentImageIndex = 0;
            } else {
                currentImageIndex += 1;
            }
            mostrarImagemAtual();
        }

        function scrollToHelp() {
            const el = document.getElementById('tab-help');
            if (!el) return;
            el.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        // Fun√ß√µes para popular conte√∫do din√¢mico
        function popularImagensInterface(imagens) {
            const container = document.getElementById('interface-grid');
            if (!container || !imagens || imagens.length === 0) return;
            
            container.innerHTML = imagens.map(img => `
                <div class="bg-card border border-border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-all duration-300 group">
                    <img src="${img}" alt="Interface do aplicativo" class="w-full h-48 object-cover" loading="lazy">
                    <div class="p-4">
                        <button onclick="window.open('${img}', '_blank')" class="w-full inline-flex items-center justify-center rounded-md bg-primary text-primary-foreground hover:bg-primary/90 px-4 py-2 text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring">
                            <i class="fas fa-expand mr-2"></i>
                            Ampliar Imagem
                        </button>
                    </div>
                </div>
            `).join('');
        }
        
        function popularVideosTutoriais(videos) {
            const container = document.getElementById('video-grid');
            if (!container || !videos || videos.length === 0) return;
            
            container.innerHTML = videos.map(video => `
                <div class="bg-card border border-border rounded-lg overflow-hidden shadow-sm hover:shadow-md transition-all duration-300 group">
                    <div class="aspect-video bg-muted flex items-center justify-center relative overflow-hidden">
                        <i class="fas fa-play-circle text-4xl text-muted-foreground group-hover:text-primary transition-colors"></i>
                        <div class="absolute inset-0 bg-gradient-to-t from-black/20 to-transparent"></div>
                    </div>
                    <div class="p-4">
                        <h3 class="font-semibold text-card-foreground mb-2">${video.titulo}</h3>
                        <p class="text-muted-foreground text-sm mb-4">${video.descricao}</p>
                        <button onclick="window.open('${video.url}', '_blank')" class="w-full inline-flex items-center justify-center rounded-md bg-primary text-primary-foreground hover:bg-primary/90 px-4 py-2 text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring">
                            <i class="fas fa-external-link-alt mr-2"></i>
                            Assistir Tutorial
                        </button>
                    </div>
                </div>
            `).join('');
        }
        
        function popularLinksTutoriais(links) {
            const container = document.getElementById('links-grid');
            if (!container || !links || links.length === 0) return;
            
            container.innerHTML = links.map(link => `
                <button onclick="window.open('${link.url}', '_blank')" class="w-full text-left p-4 bg-card border border-border rounded-lg hover:bg-accent hover:text-accent-foreground transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring group">
                    <div class="flex items-center space-x-3">
                        <div class="bg-green-100 dark:bg-green-900/30 rounded-full p-2 flex-shrink-0">
                            <i class="fas fa-file-alt text-green-600 dark:text-green-400"></i>
                        </div>
                        <div class="flex-1 min-w-0">
                            <h3 class="font-semibold text-sm text-card-foreground group-hover:text-accent-foreground">${link.titulo}</h3>
                            <p class="text-muted-foreground text-xs mt-1">${link.descricao}</p>
                        </div>
                        <i class="fas fa-external-link-alt text-muted-foreground group-hover:text-accent-foreground"></i>
                    </div>
                </button>
            `).join('');
        }

        document.addEventListener('DOMContentLoaded', function () {
            initInterfaceImagesList();
            const prevBtn = document.getElementById('lightbox-prev');
            const nextBtn = document.getElementById('lightbox-next');
            const closeBtn = document.getElementById('lightbox-close');
            const lightbox = document.getElementById('lightbox');
            const img = document.getElementById('lightbox-img');

            if (prevBtn) prevBtn.addEventListener('click', lightboxImagemAnterior);
            if (nextBtn) nextBtn.addEventListener('click', lightboxProximaImagem);
            if (closeBtn) closeBtn.addEventListener('click', fecharLightbox);

            if (lightbox) {
                lightbox.addEventListener('click', function (e) {
                    if (e.target === lightbox) {
                        fecharLightbox();
                    }
                });
            }

            if (img) {
                img.addEventListener('touchstart', function (e) {
                    if (!e.touches || e.touches.length !== 1) return;
                    lightboxTouchStartX = e.touches[0].clientX;
                });
                img.addEventListener('touchend', function (e) {
                    if (lightboxTouchStartX === null || !e.changedTouches || e.changedTouches.length !== 1) return;
                    const deltaX = e.changedTouches[0].clientX - lightboxTouchStartX;
                    if (Math.abs(deltaX) > 40) {
                        if (deltaX < 0) {
                            lightboxProximaImagem();
                        } else {
                            lightboxImagemAnterior();
                        }
                    }
                    lightboxTouchStartX = null;
                });
            }

            document.addEventListener('keydown', function (e) {
                const isOpen = lightbox && lightbox.classList.contains('flex') && !lightbox.classList.contains('hidden');
                if (!isOpen) return;
                if (e.key === 'ArrowLeft') {
                    e.preventDefault();
                    lightboxImagemAnterior();
                } else if (e.key === 'ArrowRight') {
                    e.preventDefault();
                    lightboxProximaImagem();
                } else if (e.key === 'Escape') {
                    e.preventDefault();
                    fecharLightbox();
                }
            });
        });

        function copiarTexto(texto) {
            if (navigator.clipboard && window.isSecureContext) {
                navigator.clipboard.writeText(texto).then(() => {
                    showToast('‚úÖ Copiado com sucesso!', 'success');
                }).catch(() => {
                    fallbackCopiar(texto);
                });
            } else {
                fallbackCopiar(texto);
            }
        }

        function fallbackCopiar(texto) {
            const input = document.createElement('textarea');
            input.value = texto;
            input.setAttribute('readonly', '');
            input.style.position = 'absolute';
            input.style.left = '-9999px';
            document.body.appendChild(input);
            input.select();
            try {
                document.execCommand('copy');
                showToast('‚úÖ Copiado com sucesso!', 'success');
            } catch (err) {
                showToast('‚ùå N√£o foi poss√≠vel copiar. Copie manualmente.', 'error');
            }
            document.body.removeChild(input);
        }

        let downloadAbort = null;
        function abrirDownloadModal(name) {
            const m = document.getElementById('download-modal');
            document.getElementById('download-title').textContent = 'Baixando APK';
            document.getElementById('download-subtitle').textContent = name || '';
            document.getElementById('download-progress-fill').style.width = '0%';
            document.getElementById('download-progress-text').textContent = '0%';
            document.getElementById('download-size-text').textContent = '';
            m.classList.remove('hidden');
            m.classList.add('flex');
            document.body.style.overflow = 'hidden';
        }
        function fecharDownloadModal() {
            const m = document.getElementById('download-modal');
            m.classList.add('hidden');
            m.classList.remove('flex');
            document.body.style.overflow = '';
        }
        function atualizarProgresso(p, sizeText) {
            const pct = Math.max(0, Math.min(100, Math.floor(p)));
            document.getElementById('download-progress-fill').style.width = pct + '%';
            document.getElementById('download-progress-text').textContent = pct + '%';
            if (sizeText) document.getElementById('download-size-text').textContent = sizeText;
        }
        function finalizarDownload(blob, filename) {
            const urlObject = URL.createObjectURL(new Blob([blob], { type: 'application/vnd.android.package-archive' }));
            const a = document.createElement('a');
            a.href = urlObject;
            if (filename) a.setAttribute('download', filename);
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            setTimeout(() => {
                URL.revokeObjectURL(urlObject);
            }, 5000);
            showToast('Download conclu√≠do. Abra o arquivo baixado e instale-o. Caso necess√°rio, d√™ as permiss√µes solicitadas pelo sistema do seu dispositivo.', 'info', 6000);
            fecharDownloadModal();
        }
        document.getElementById('download-close').addEventListener('click', fecharDownloadModal);
        document.getElementById('download-cancel-btn').addEventListener('click', () => {
            if (downloadAbort) downloadAbort.abort();
            fecharDownloadModal();
        });
        function formatSize(bytes) {
            if (!bytes || bytes <= 0) return '';
            const units = ['B','KB','MB','GB'];
            let i = 0, v = bytes;
            while (v >= 1024 && i < units.length - 1) { v /= 1024; i++; }
            return v.toFixed(1) + ' ' + units[i];
        }
        async function baixarApp(e, url, name) {
            try {
                e.preventDefault();
                const btn = e.currentTarget;
                const originalText = btn.textContent;
                btn.textContent = 'Baixando...';
                btn.setAttribute('aria-busy', 'true');
                btn.classList.add('opacity-75','cursor-wait');
                const targetUrl = url && url.length ? url : '';
                if (!targetUrl) {
                    btn.textContent = originalText;
                    btn.removeAttribute('aria-busy');
                    btn.classList.remove('opacity-75','cursor-wait');
                    return false;
                }
                if (!window.fetch || !('body' in Response.prototype)) {
                    const a = document.createElement('a');
                    a.href = targetUrl;
                    a.setAttribute('download', name ? `${name}.apk` : '');
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    setTimeout(() => {
                        btn.textContent = originalText;
                        btn.removeAttribute('aria-busy');
                        btn.classList.remove('opacity-75','cursor-wait');
                    }, 1000);
                    return false;
                }
                abrirDownloadModal(name);
                downloadAbort = new AbortController();
                const res = await fetch(targetUrl, { cache: 'no-store', signal: downloadAbort.signal });
                if (!res.ok || !res.body) {
                    const a = document.createElement('a');
                    a.href = targetUrl;
                    a.setAttribute('download', name ? `${name}.apk` : '');
                    document.body.appendChild(a);
                    a.click();
                    document.body.removeChild(a);
                    fecharDownloadModal();
                    btn.textContent = originalText;
                    btn.removeAttribute('aria-busy');
                    btn.classList.remove('opacity-75','cursor-wait');
                    return false;
                }
                const contentLengthHeader = res.headers.get('Content-Length');
                const total = contentLengthHeader ? parseInt(contentLengthHeader, 10) : 0;
                const reader = res.body.getReader();
                let received = 0;
                const chunks = [];
                while (true) {
                    const { done, value } = await reader.read();
                    if (done) break;
                    chunks.push(value);
                    received += value.length || value.byteLength || 0;
                    if (total > 0) {
                        atualizarProgresso((received / total) * 100, formatSize(received) + ' / ' + formatSize(total));
                    } else {
                        atualizarProgresso(Math.min(99, (received % 1000000) / 10000), formatSize(received));
                    }
                }
                const blob = new Blob(chunks, { type: 'application/vnd.android.package-archive' });
                atualizarProgresso(100, formatSize(total || blob.size));
                finalizarDownload(blob, name ? `${name}.apk` : 'app.apk');
                btn.textContent = originalText;
                btn.removeAttribute('aria-busy');
                btn.classList.remove('opacity-75','cursor-wait');
                return false;
            } catch {
                return true;
            }
        }

        // Fun√ß√£o para navegar para se√ß√£o espec√≠fica (do arquivo original)
        function navegarParaSecao(targetId) {
            // Esconder todas as se√ß√µes de dispositivo
            const sections = document.querySelectorAll('.device-section');
            sections.forEach(section => {
                section.style.display = 'none';
            });
            
            // Mostrar se√ß√£o espec√≠fica
            const targetSection = document.getElementById(targetId);
            if (targetSection) {
                targetSection.style.display = 'block';
                // Scroll suave para a se√ß√£o
                targetSection.scrollIntoView({ 
                    behavior: 'smooth',
                    block: 'start'
                });
            }
        }

        // Inicializa√ß√£o
        document.addEventListener('DOMContentLoaded', function() {
            // Navega√ß√£o por abas removida

            const btnDownload = document.getElementById('download-btn');
            if (btnDownload) {
                btnDownload.addEventListener('click', function(e) {
                    baixarApp(e, '{{download_url}}', '{{app_name}}');
                });
            }

            // Configurar bot√£o de informa√ß√µes/ajuda
            const btnInfo = document.getElementById('info-btn');
            if (btnInfo) {
                btnInfo.addEventListener('click', function() {
                    scrollToHelp();
                });
            }

            // Configurar bot√µes de dispositivo (do arquivo original)
            const deviceButtons = document.querySelectorAll('.device-button');
            deviceButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const target = this.getAttribute('data-target');
                    navegarParaSecao(target);
                    
                    // Feedback visual
                    this.style.transform = 'scale(0.95)';
                    setTimeout(() => {
                        this.style.transform = '';
                    }, 150);
                    
                    // Ativar visualmente o bot√£o clicado
                    deviceButtons.forEach(btn => {
                        btn.classList.remove('bg-primary', 'text-primary-foreground');
                        btn.classList.add('bg-muted', 'text-muted-foreground');
                    });
                    this.classList.remove('bg-muted', 'text-muted-foreground');
                    this.classList.add('bg-primary', 'text-primary-foreground');
                });
            });

            // Inicialmente esconder todas as se√ß√µes de dispositivo
            const sections = document.querySelectorAll('.device-section');
            sections.forEach(section => {
                section.style.display = 'none';
            });
            
            // Mostrar dispositivo padr√£o por defini√ß√£o do app
            const defaultSection = document.getElementById('{{default_device}}');
            if (defaultSection) {
                defaultSection.style.display = 'block';
            }

            // Ativar bot√£o Android Mobile por padr√£o
            const androidButton = document.querySelector('[data-target="android-section"]');
            if (androidButton) {
                androidButton.classList.remove('bg-muted', 'text-muted-foreground');
                androidButton.classList.add('bg-primary', 'text-primary-foreground');
            }

            const lightbox = document.getElementById('lightbox');
            const lightboxClose = document.getElementById('lightbox-close');
            if (lightboxClose) {
                lightboxClose.addEventListener('click', fecharLightbox);
            }
            if (lightbox) {
                lightbox.addEventListener('click', function(e) {
                    if (e.target === lightbox) {
                        fecharLightbox();
                    }
                });
            }
            document.addEventListener('keydown', function(e) {
                if (e.key === 'Escape') {
                    fecharLightbox();
                }
            });

        });

    </script>
</body>
</html>
